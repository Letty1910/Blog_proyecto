{% extends 'base.html' %}
{% block content %}
<div class="post-list-container" style="max-width: 900px; margin: 0 auto; padding: 3rem 1.5rem;">

    {% for post in posts %}
    <div class="post-card" style="
        background: #ffffffee;
        border-radius: 16px;
        padding: 32px 28px;
        margin-bottom: 2.5rem;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
        border-left: 5px solid #2e7d32;
        transition: transform 0.3s, box-shadow 0.3s;
    " onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 12px 30px rgba(0,0,0,0.12)'" onmouseout="this.style.transform=''; this.style.boxShadow='0 8px 24px rgba(0,0,0,0.08)'">
        
        <h2 style="font-size: 1.8rem; font-family: 'Playfair Display', serif; font-weight: 700; color: #1d3b29; margin: 0 0 12px;">
            {{ post.titulo }}
        </h2>

        <p style="font-size: 1rem; color: #555; margin-bottom: 20px;">
            {{ post.subtitulo }}
        </p>

        <div class="post-actions" style="display: flex; flex-wrap: wrap; gap: 12px;">

            <a href="{% url 'page_detail' post.pk %}" style="
                background: linear-gradient(135deg, #2e7d32, #1b5e20);
                color: #fff;
                padding: 10px 20px;
                border-radius: 8px;
                text-decoration: none;
                font-weight: 600;
                font-size: 0.95rem;
                transition: background 0.3s;
            " onmouseover="this.style.background='linear-gradient(135deg, #276a2b, #154e19)'" onmouseout="this.style.background='linear-gradient(135deg, #2e7d32, #1b5e20)'">
                Leer más
            </a>

            {% if user == post.autor %}
            <a href="{% url 'page_edit' post.pk %}" style="
                background: linear-gradient(135deg, #FFA000, #FF8F00);
                color: #fff;
                padding: 10px 20px;
                border-radius: 8px;
                text-decoration: none;
                font-weight: 600;
                font-size: 0.95rem;
                transition: background 0.3s;
            " onmouseover="this.style.background='linear-gradient(135deg, #e59400, #cc7c00)'" onmouseout="this.style.background='linear-gradient(135deg, #FFA000, #FF8F00)'">
                Editar
            </a>

            <a href="{% url 'page_delete' post.pk %}" style="
                background: linear-gradient(135deg, #C62828, #B71C1C);
                color: #fff;
                padding: 10px 20px;
                border-radius: 8px;
                text-decoration: none;
                font-weight: 600;
                font-size: 0.95rem;
                transition: background 0.3s;
            " onmouseover="this.style.background='linear-gradient(135deg, #aa1f1f, #901515)'" onmouseout="this.style.background='linear-gradient(135deg, #C62828, #B71C1C)'">
                Eliminar
            </a>
            {% endif %}

        </div>
    </div>
    {% empty %}
    <p style="text-align: center; font-size: 1.2rem; color: #444;">No hay páginas aún.</p>
    {% endfor %}

</div>
{% endblock %}
